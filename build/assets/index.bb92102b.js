var Re=Object.defineProperty,Le=Object.defineProperties;var De=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var re=(t,a,s)=>a in t?Re(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,y=(t,a)=>{for(var s in a||(a={}))ne.call(a,s)&&re(t,s,a[s]);if(Q)for(var s of Q(a))oe.call(a,s)&&re(t,s,a[s]);return t},v=(t,a)=>Le(t,De(a));var ce=(t,a)=>{var s={};for(var r in t)ne.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&Q)for(var r of Q(t))a.indexOf(r)<0&&oe.call(t,r)&&(s[r]=t[r]);return s};import{c as Ue,u as x,r as d,a as J,h as me,b as Oe,m as Be,f as xe,P as T,R as e,W as Ie,d as w,L as g,e as C,g as _,i as m,j as U,k as _e,l as Pe,n as Me,w as Qe,o as ue,A as Ge,S as ke,p as B,q as V,s as Fe,t as Ee,v as ze,x as Ve,y as je,z as He,B as Je,C as We,D as Ye,E as Ze}from"./vendor.b95381aa.js";const Ke=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};Ke();var P=Ue();const qe=({children:t})=>{const{pathname:a}=x();return d.exports.useEffect(()=>{window.scrollTo(0,0)},[a]),t||null},b=J.create({baseURL:"https://api.zedditapp.com",withCredentials:!0});J.defaults.baseURL="https://api.zedditapp.com";const I=()=>{let t;return t="https://api.zedditapp.com",t},W=I(),Xe=t=>async a=>{try{a({type:"GETTING_USER"}),b({method:"get",url:`${W}/users/get-user/${t}`}).then(s=>{a({type:"LOGIN_SUCCESS",payload:s.data})})}catch(s){a({type:"LOGIN_FAILURE",message:s.response.data.message})}},Ae=t=>async a=>{try{a({type:"LOGIN_REQUEST"});const s=await b.post(`${W}/users/login`,t);if(s.status!==200)throw s.data.message;a(Xe(t.username)),P.push("/")}catch(s){console.log(s.response),a({type:"LOGIN_FAILURE",message:s.response.data.message})}},$e=(t,a,s)=>async r=>{try{let n=me().format("MMMM Do YYYY");r({type:"REGISTER_START"}),await Oe(s==="Male"?Be:xe,{seed:t});let o="https://api.dicebear.com/7.x/identicon/svg",c=(await b({method:"POST",url:`${W}/users/register`,data:{username:t,password:a,gender:s,profilePicture:o,updatedAt:n},withCredentials:!0})).data;r({type:"REGISTER_SUCCESS",payload:c}),r(Ae(c))}catch(n){r({type:"REGISTER_FAILURE",message:n.response.data.message})}},et=t=>async a=>{a({type:"LOGOUT",payload:t.username})},O=({title:t})=>e.createElement(Ie,null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("title",null,t&&`${t} - Zeddit`),e.createElement("meta",{name:"description",content:"Created by Jacob Broughton, visit my github at www.github.com/jacobbroughton"}),e.createElement("meta",{property:"og:title",content:t}),e.createElement("meta",{property:"og:description",content:"Created by Jacob Broughton, visit my github at www.github.com/jacobbroughton"}),e.createElement("meta",{property:"og:type",content:"website"}));O.propTypes={title:T.string};const tt=()=>{const t=w(),[a,s]=d.exports.useState(""),[r,n]=d.exports.useState(""),[o,l]=d.exports.useState("Male"),c=i=>{a===""||r===""||(t($e(a,r,o)),i.preventDefault())};return e.createElement("div",{className:"register  "},e.createElement(O,{title:"Register"}),e.createElement("div",{className:"register-container"},e.createElement("h2",null,"Register"),e.createElement("form",{onSubmit:i=>c(i)},e.createElement("input",{required:!0,className:"register-input",placeholder:"Username",onChange:i=>s(i.target.value)}),e.createElement("input",{required:!0,className:"register-input",type:"password",placeholder:"Password",onChange:i=>n(i.target.value)}),e.createElement("input",{className:"register-submit",type:"submit",value:"Register",disabled:r===""||a===""})),e.createElement("p",{className:"already-registered-question"},"Already registered?"," ",e.createElement(g,{className:"sign-in-link",to:"/login"},"Sign In"))))};const at=()=>{const[t,a]=d.exports.useState(""),[s,r]=d.exports.useState(""),n=w(),o=l=>{t===""||s===""||(n(Ae({username:t,password:s})),l.preventDefault())};return e.createElement("div",{className:"login"},e.createElement(O,{title:"Log in"}),e.createElement("div",{className:"login-container"},e.createElement("h2",null,"Login"),e.createElement("form",{onSubmit:l=>o(l)},e.createElement("input",{required:!0,type:"text",className:"login-input",placeholder:"Username",onChange:l=>a(l.target.value)}),e.createElement("input",{required:!0,type:"password",className:"login-input",placeholder:"Password",onChange:l=>r(l.target.value)}),e.createElement("input",{className:"login-submit",type:"submit",value:"Login",disabled:t===""||s===""})),e.createElement("p",{className:"need-to-register-question"},"Not registered?"," ",e.createElement(g,{className:"create-account-link",to:"/register"},"Create an account"))))},le=(t,a)=>{const s=JSON.stringify(t);localStorage.setItem(a,s)},Y=t=>{try{const a=localStorage.getItem(t);return a===null?void 0:JSON.parse(a)}catch{return}},st=(t=Y("themeState")||!1,a)=>{switch(a.type){case"TOGGLE_DARK_MODE":return!t;default:return t}},rt=()=>async t=>{t({type:"TOGGLE_DARK_MODE"})},nt=I(),pe=t=>async a=>{try{if(a({type:"SET_CURRENT_SUBREDDIT_REQUEST"}),t){let s=await b.get(`${nt}/subreddits/${t}`);if(s.status!==200)throw s.data.message;let r=s.data===""?null:s.data;r=v(y({},r),{name:C.decode(r.name),description:C.decode(r.description)}),a({type:"SET_CURRENT_SUBREDDIT_SUCCESS",payload:r})}else a({type:"SET_CURRENT_SUBREDDIT_SUCCESS",payload:null})}catch(s){a({type:"SET_CURRENT_SUBREDDIT_FAILURE",message:s.response.data.message})}},ot=()=>e.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","aria-hidden":"true",className:"down-arrow"},e.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}));const Z=({size:t,source:a})=>e.createElement("img",{className:`profile-picture ${t}`,src:a,alt:"Profile picture"});Z.propTypes={source:T.string,size:T.string};const ct=()=>e.createElement("svg",{version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",className:"search-icon"},e.createElement("path",{d:`M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
 s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
 c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
 s-17-7.626-17-17S14.61,6,23.984,6z`})),lt=()=>e.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 447.243 447.243"},e.createElement("g",null,e.createElement("g",null,e.createElement("path",{d:`M420.361,192.229c-1.83-0.297-3.682-0.434-5.535-0.41H99.305l6.88-3.2c6.725-3.183,12.843-7.515,18.08-12.8l88.48-88.48
			c11.653-11.124,13.611-29.019,4.64-42.4c-10.441-14.259-30.464-17.355-44.724-6.914c-1.152,0.844-2.247,1.764-3.276,2.754
			l-160,160C-3.119,213.269-3.13,233.53,9.36,246.034c0.008,0.008,0.017,0.017,0.025,0.025l160,160
			c12.514,12.479,32.775,12.451,45.255-0.063c0.982-0.985,1.899-2.033,2.745-3.137c8.971-13.381,7.013-31.276-4.64-42.4
			l-88.32-88.64c-4.695-4.7-10.093-8.641-16-11.68l-9.6-4.32h314.24c16.347,0.607,30.689-10.812,33.76-26.88
			C449.654,211.494,437.806,195.059,420.361,192.229z`})))),ge=(t,a,s)=>async r=>{try{r({type:"SEARCH_REQUEST"});const n=await J.get(`/search${t?`?userId=${t}`:""}${a?`${t?"&":"?"}subredditName=${a}`:""}${!t&&!a?"?":"&"}q=${s}`);if(n.status!==200)throw n.data.message;r({type:"GET_POSTS_SUCCESS",payload:n.data})}catch(n){console.log(n),r({type:"SEARCH_FAILURE",message:n.response.data.message})}},ie=()=>{const{innerWidth:t,innerHeight:a}=window;return{width:t,height:a}},K=()=>{const[t,a]=d.exports.useState(ie());return d.exports.useEffect(()=>{function s(){a(ie())}return window.addEventListener("resize",()=>s()),()=>window.removeEventListener("resize",()=>s())},[]),t};const Se=({searchExpanded:t,setSearchExpanded:a})=>{const{width:s}=K(),r=d.exports.useRef(),n=w(),o=_(),l=x(),c=m(u=>u.auth.user),i=m(u=>u.currentSubreddit),A=m(u=>u.post),[p,E]=d.exports.useState(""),[N,f]=d.exports.useState(!1);d.exports.useEffect(()=>{s<=767?f(!0):(f(!1),a(!1))},[s]);const L=(u,S)=>{E(u),n(ge(c==null?void 0:c.id,S,u)),console.log(l),A?i?o.push(`/r/${i.name}?q=${u}`):o.push(`/?q=${u}`):o.push(`${l.pathname}?q=${u}`)},R=async u=>{if(u.preventDefault(),p===""){o.push({search:""});return}L(p,i==null?void 0:i.name),N&&r.current.blur()};return e.createElement("div",{className:"search-bar  "},e.createElement(U.button,{className:"search-icon-button",onClick:N?()=>a(!t):void 0,whileTap:N?{scale:1.2}:{scale:1}},t?e.createElement(lt,{className:"search-icon"}):e.createElement(ct,null)),N&&t?e.createElement("div",{className:"mobile-search"},e.createElement("form",{onSubmit:u=>R(u),className:"search-form"},e.createElement("input",{ref:r,onChange:u=>E(u.target.value),type:"text",value:p,className:"search-input",placeholder:`Search ${i?`in ${i.name}`:""}`}))):e.createElement("div",{className:"desktop-search"},i&&e.createElement("label",{className:"search-label"},"r/",C.decode(i.name)),e.createElement("form",{onSubmit:u=>R(u),className:"search-form"},e.createElement("input",{onChange:u=>E(u.target.value),type:"text",value:p,className:"search-input",placeholder:"Search"}))))};Se.propTypes={searchExpanded:T.bool,setSearchExpanded:T.func};var it="data:image/png;base64,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",dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAQAAABQ8GUWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQflCgsCFRQ5B1k2AAADxElEQVR42u3aT0iTYRwH8N/zOJ0ISgPLmSl5cCwVooNISQfLUwctFcSSDooEMg8VdNlB9KRQF6VLppfhn4mpLAjFFIv87yFBI+c/UvTVmRLT6dR3ezqIQrTN9333vs+jc1/Yac94v98P7A/bAChnOj8sbO2BwcBNjI5y8zs73PzODvdmeJj7WVY2nR8WRrsP1djMWi1nGxvjOEI83iZGR21mrZZmJ0TrQuufY2Lct/v7wZ6c7LNQhdWq4jIzoz+urgYMgNDxLBAUBxA7njaCogBSx9NEUAzA3/G0EBQBkGs8DQTZAeQerzSCrABKjVcSQTYApccrhSALAK3xSiD4DUB7vNwIfgGwGi8ngmQA1uPlQpAEcFbGy4EgGuCsjfcXQRTAWR3vD4JggLM+XiqCIIDzMl4KwqkA5228WASfAOd1vBgErwDnfbxQBI8AgTJeCMJ/AIE2/jSEfwACdbwvhBOAQB/vDQEDHP1iQ14MDAT6eAAAUqnT8b/6+o5/gcKzBrXalWmxkB69nnU5agg9er1L1dVF3KGhOHKhtBRcaWmsS1HPnfT0NV1xccjLlro6iIqLY92HRdCeRoNBk5LCugirkIPUVMy6BMsgJyEYvk9NsS7CLFHT0xiVmkyse7AKaTWZ8Oa9+npYGRtjXYZ6mkdGtNbGRpzSfnCA/2Rnw7OhIdadaAW9HRxEqTk5CB8ennwUJgRjrqOwEC0WFKB+nQ42IiKIJT6edVlZBmcvL8O+w0Gezs6SRLM5NrelBSG3G8DH9wEbd5OS+DarlXV5ORLyNSnpSsHcnKf7LvTbYBAgCBAEABX1KzbwPJrc3vZ0F7kZGQklKqqdqF0M5W9twReDYc/Y2ZmInE5PZxbbwsPVHXl5uLWujtRqNAEF4E4uKbmq6urydeYIpqmJy3U6AdrbafSi8xpgtttj31ksQo9rP3R2gtluDxgAVLWycvzJS9B55HajRjp/lr7w7wJBANYFWCcIwLoA6wQBWBdgnSAA6wKs4xXA+XB3l3U5uYJmHQ7RANeer68j/d4e6/J+Z9fhiDbabKIBEOZ5qO7pYd3f36BH3d0IuVyiAQAA0OuaGuAIYT1CcjhCSFtNja8jPgFi5kdG4El1NesdknOrqipWPz4uGQAAQPvDaIRPFRXQwPNSe5BN789Br7m0sSF5eAPPoxCjUQuVlacdFfxnaS70xg10ubycZGRlod8JCaRZrRb0wG8LC3ixqCjm1fCwmA0ruxkZeNJkguuJiULOo8f7+yR6aQne9/a6J2pr4+7PzAh53F8Pn1IGs7zPwwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0xMC0xMVQwMjoyMToyMCswMDowMMLKA28AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMTAtMTFUMDI6MjE6MjArMDA6MDCzl7vTAAAAAElFTkSuQmCC";const mt=()=>{const t=w(),a=m(N=>N.auth.user),s=m(N=>N.theme),[r,n]=d.exports.useState(!1),[o,l]=d.exports.useState(!1),[c,i]=d.exports.useState(!1),{width:A}=K(),p=_e.useLocation(),E=()=>{l(!o),n(!r)};return e.createElement("nav",{className:"nav"},e.createElement("div",{className:"nav-container"},e.createElement("div",{className:"home-search-darkicon"},!c&&e.createElement(g,{className:"nav-home-link",onClick:()=>t(pe(null)),to:"/"},A>=767?"Zeddit":e.createElement("img",{className:"home-icon",src:s?dt:it})),!["/login","/register"].includes(p.pathname)&&e.createElement(Se,{setSearchExpanded:i,searchExpanded:c}),!c&&e.createElement(U.button,{className:"dark-mode-icon-parent",onClick:()=>t(rt()),whileTap:{scale:1.25}},s?"\u{1F319}":"\u2600\uFE0F")),e.createElement("div",{className:"nav-menu"},a?e.createElement(e.Fragment,null,o&&e.createElement("div",{onClick:()=>E(),className:"overlay"}),e.createElement("div",{className:"logged-in-nav-view"},e.createElement("button",{onClick:()=>{l(!o),n(!r)},className:"nav-username-button"},e.createElement(Z,{size:"small",source:a.profile_picture}),e.createElement("span",{className:"nav-username-span"},a.username," "),e.createElement(ot,null)),e.createElement("div",{className:`${r?"user-dropdown open":"user-dropdown closed"}`},e.createElement(g,{className:"dropdown-link",onClick:()=>E(),to:"/"},"Home"),e.createElement(g,{className:"dropdown-link",onClick:()=>E(),to:"/new-post?type=text"},"New Text Post"),e.createElement(g,{className:"dropdown-link",onClick:()=>E(),to:"/new-post?type=link"},"New Link Post"),e.createElement(g,{className:"dropdown-link",onClick:()=>E(),to:"/subreddits/create"},"Create Subreddit"),e.createElement("button",{className:"logout-button",onClick:()=>{t(et(a)),E()}},"Logout")))):e.createElement("div",{className:"logged-out-nav-view"},e.createElement(g,{to:"/login"},"Login"),e.createElement(g,{to:"/register"},"Register")))))};const ut=()=>e.createElement("footer",null,e.createElement("div",{className:"container"},e.createElement("p",{className:"created-by"},"Created by Jacob Broughton"),e.createElement("p",{className:"github"},"Feel free to visit my"," ",e.createElement("a",{href:"https://github.com/jacobbroughton"},"Github"))));const k=I(),Et=(t,a)=>async s=>{try{s({type:"GET_POST_REQUEST"});const r=await b.get(`${k}/posts/single/${t}/${a||""}`);if(r.status!==200)throw r.data.message;let n=r.data;n=v(y({},n),{title:C.decode(n.title),body:C.decode(n.body)}),s({type:"GET_POST_SUCCESS",payload:n})}catch(r){s({type:"GET_POST_FAILURE",message:r.response.data.message})}},q=t=>async a=>{try{a({type:"SET_POST_REQUEST"}),console.log(t),t&&(t=v(y({},t),{title:C.decode(t.title),body:C.decode(t.body)})),a({type:"SET_POST_SUCCESS",payload:t})}catch(s){a({type:"SET_POST_FAILURE",message:s.response.data.message})}},At=(t,a,s)=>async r=>{try{r({type:"SINGLE_POST_VOTE_REQUEST"});let n={userId:t,postId:a,value:s};console.log(s);const o=await b.post(`${k}/votes/post`,{data:n});if(o.status!==200)throw o.data.message;r({type:"SINGLEPOST_VOTE_SUCCESS",payload:n})}catch(n){console.log(n),r({type:"SINGLE_POST_VOTE_FAILURE"})}},pt=(t,a)=>({type:"EDIT_POST",id:t,updates:a}),gt=({id:t,body:a})=>async s=>{try{s({type:"EDIT_POST_REQUEST"});const r=await b.put(`${k}/posts/single/${t}`,{body:a});if(r.status!==200)throw r.data.message;s(pt(t,{body:a})),s({type:"EDIT_POST_SUCCESS"})}catch(r){s({type:"EDIT_POST_FAILURE",message:r.response.data.message})}},St=(t,a)=>async s=>{try{s({type:"DELETE_POST_REQUEST"});const r=await b.delete(`${k}/posts`,{data:{id:a}});if(r.status!==200)throw r.data.message;s({type:"DELETE_POST_SUCCESS",payload:{id:a}})}catch(r){s({type:"DELETE_POST_FAILURE",message:r.response.data.message})}},X=I(),ht=(t,a)=>async s=>{try{s({type:"GET_POSTS_REQUEST"});let r=await b.get(`${X}/posts`,{params:{userId:t,filters:a}});if(r.status!==200)throw r.data.message;s({type:"GET_POSTS_SUCCESS",payload:r.data})}catch(r){console.log(r),s({type:"GET_POSTS_FAILURE",message:r.response.data.message})}},Ct=(t,a,s)=>async r=>{try{r({type:"POST_VOTE_REQUEST"});let n={userId:t,postId:a,value:s};console.log(n);const o=await b.post(`${X}/votes/post`,{data:n});if(o.status!==200)throw o.data.message;r({type:"POST_VOTE_SUCCESS",payload:n})}catch(n){console.log(n),r({type:"POST_VOTE_FAILURE",message:n.response.data.message})}},yt=({postType:t,title:a,body:s,authorId:r,subredditId:n,subredditName:o})=>async l=>{try{l({type:"CREATE_POST_REQUEST"});let c=Pe(new Date);const i={postType:t,title:a,body:s,authorId:r,subredditId:n,subredditName:o},A=await b.post(`${X}/posts`,i);if(A.status!==200)throw A.data.message;let p=A.data.insertId;l(q({id:p,post_type:t,title:a,body:s,vote_count:0,author_id:r,subreddit_id:n,subreddit_name:o,created_at:c,updated_at:c})),P.push(`/r/${i.subredditName.replace(/\s+/g,"-")}/${p}`)}catch(c){l({type:"CREATE_POST_FAILURE",message:c.response.data.message})}},$=()=>{const t=x();return new URLSearchParams(t.search).get("q")},he=()=>e.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","aria-hidden":"true",className:"edit-icon"},e.createElement("g",{fill:"none",strokeLinecap:"round",strokeWidth:"2"},e.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))),Ce=()=>e.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","aria-hidden":"true",className:"delete-icon"},e.createElement("g",{stroke:"none"},e.createElement("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"}))),ye=t=>{const a=t.split(/[- :]/),s=new Date(Date.UTC(a[0],a[1]-1,a[2],a[3],a[4],a[5]));let r=Me(s,{addSuffix:!0}),n=r.match(/\d+/g);return parseInt(n)<=10&&r.includes("seconds")&&(r="a few seconds ago"),r};const Tt=({customClass:t})=>e.createElement("svg",{version:"1.1",className:`up-arrow ${t}`,x:"0px",y:"0px",width:"292.362px",height:"292.361px",viewBox:"0 0 292.362 292.361"},e.createElement("g",null,e.createElement("path",{d:`M286.935,197.287L159.028,69.381c-3.613-3.617-7.895-5.424-12.847-5.424s-9.233,1.807-12.85,5.424L5.424,197.287
      C1.807,200.904,0,205.186,0,210.134s1.807,9.233,5.424,12.847c3.621,3.617,7.902,5.425,12.85,5.425h255.813
      c4.949,0,9.233-1.808,12.848-5.425c3.613-3.613,5.427-7.898,5.427-12.847S290.548,200.904,286.935,197.287z`}))),bt=({customClass:t})=>e.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"123.959px",height:"123.958px",viewBox:"0 0 123.959 123.958",className:`down-arrow ${t}`},e.createElement("g",null,e.createElement("path",{d:`M117.979,28.017h-112c-5.3,0-8,6.4-4.2,10.2l56,56c2.3,2.3,6.1,2.3,8.401,0l56-56
		C125.979,34.417,123.279,28.017,117.979,28.017z`}))),ee=({item:t,handleVoteClick:a})=>{const s=m(r=>r.auth.user);return e.createElement("div",{className:"votes-section  "},e.createElement(U.button,{onClick:()=>a(1),className:"up-vote",whileTap:s?{scale:1.4}:{scale:1}},e.createElement(Tt,{customClass:`${s&&t.has_voted===1?"selected":""}`})),e.createElement("span",{className:"votes-count"},t.vote_count&&t.vote_count),e.createElement(U.button,{onClick:()=>a(-1),className:"down-vote",whileTap:s?{scale:1.4}:{scale:1}},e.createElement(bt,{customClass:`${s&&t.has_voted===-1?"selected":""} `})))};ee.propTypes={item:T.object,handleVoteClick:T.func};const te=({post:t,single:a})=>{const s=w(),r=_(),n=m(u=>u.auth.user),o=m(u=>u.currentSubreddit),[l,c]=d.exports.useState(!1),[i,A]=d.exports.useState(t?t.body:""),[p,E]=d.exports.useState(null),N=ye(t.created_at),f=(u,S)=>{s(gt({id:S,body:i})),c(!l),u.preventDefault()},L=()=>{s(St(t,t.id)),a&&r.push(o?`/r/${o.name}`:"/")},R=u=>{if(!n){E("You must log in to vote"),setTimeout(()=>E(null),4e3);return}s(a?At(n.id,t.id,u):Ct(n.id,t.id,u))};return e.createElement(U.div,{className:"post",initial:a?{opacity:1}:{opacity:0},animate:{opacity:1},edit:a?{opacity:1}:{opacity:0}},a&&e.createElement(O,{title:t.title}),e.createElement(ee,{item:t,handleVoteClick:R}),e.createElement("div",{className:"post-main-section"},p&&e.createElement("p",{className:"vote-error"},p),e.createElement("p",{className:"post-metadata"},e.createElement(g,{to:`/r/${C.decode(t.subreddit_name)}`,className:"post-subreddit-link"},"r/",C.decode(t.subreddit_name)),e.createElement("span",{className:"posted-by-span"},"Posted by ",e.createElement("span",{className:"user"},"u/",t.username&&t.username)),e.createElement("span",{className:"time-ago-span"},N)),t.post_type==="link"?e.createElement("a",{className:"link-title",href:t.body},C.decode(t.title)):e.createElement("div",{className:"title-and-body"},e.createElement(g,{to:`/r/${C.decode(t.subreddit_name.replace(/\s+/g,"-"))}/${t.id}`,className:"post-title",onClick:()=>s(q(t))},C.decode(t.title)),e.createElement("div",{className:"post-body"},n&&n.id===t.author_id&&l?e.createElement("form",{className:"edit-post-form",onSubmit:u=>{f(u,t.id)}},e.createElement("textarea",{value:i,onChange:u=>A(u.target.value)}),e.createElement("div",{className:"save-and-cancel"},e.createElement("button",{disabled:t.body===i,type:"submit"},"Save"),e.createElement("button",{onClick:()=>c(!l)},"Cancel"))):e.createElement("p",{className:"post-body-text"},C.decode(t.body)))),n&&n.id===t.author_id&&e.createElement("div",{className:"posted-user-accessable-options"},!l&&e.createElement("button",{onClick:()=>c(!l)},e.createElement(he,null),"Edit"),e.createElement("button",{onClick:()=>L()},e.createElement(Ce,null),"Delete"))))};te.propTypes={post:T.object,single:T.bool};const Te=()=>{const t=_(),a=m(i=>i.subreddits),s=m(i=>i.currentSubreddit),r=a.filter(i=>i.user_id===1),n=a.filter(i=>i.user_id!==1);r.unshift({name:"Home"});const[o,l]=d.exports.useState([]);d.exports.useEffect(()=>{l([{type:"General",includedSubreddits:r},{type:"User Created",includedSubreddits:n}])},[a]);const c=i=>{i.target.value==="Home"?t.push("/"):t.push(`/r/${i.target.value}`)};return o?e.createElement("div",{className:"mobile-subreddit-selector  "},e.createElement("label",null,"Select a subreddit"),e.createElement("select",{value:s?s.name:"Home",label:"Select a subreddit",onChange:i=>c(i),className:"subreddits"},o.map((i,A)=>e.createElement("optgroup",{label:i.type,key:A},i.includedSubreddits.map((p,E)=>e.createElement("option",{key:E},C.decode(p.name))))))):e.createElement("p",null,"Loading")};const F=I(),vt=()=>async t=>{try{t({type:"GET_SUBREDDITS_REQUEST"});const a=await b.get(`${F}/subreddits`);if(a.status!==200)throw a.data.message;t({type:"GET_SUBREDDITS_SUCCESS",payload:a.data})}catch(a){t({type:"GET_SUBREDDITS_FAILURE",message:a.response.data.message})}},Nt=t=>async a=>{try{a({type:"GET_SINGLE_SUBREDDIT_REQUEST"});const s=await b.get(`${F}/subreddits/${t}`);if(s.status!==200)throw s.data.message;a({type:"GET_SINGLE_SUBREDDIT_SUCCESS",payload:s})}catch(s){a({type:"GET_SINGLE_SUBREDDIT_FAILURE",message:s.response.data.message})}},wt=(t,a,s)=>async r=>{try{r({type:"CREATE_SUBREDDIT_REQUEST"});let n=me().format("MMMM Do YYYY"),o={id:0,userId:t,name:a,description:s,createdAt:n};const l=await b.post(`${F}/subreddits`,o);if(l.status!==200)throw l.data.message;o.id=l.data.idForNewSubreddit,r({type:"CREATE_SUBREDDIT_SUCCESS",payload:o}),r(Nt(o.name)),P.push(`/r/${o.name}/`)}catch(n){r({type:"CREATE_SUBREDDIT_FAILURE",message:n.response.data.message})}},ft=(t,a)=>async s=>{try{s({type:"DELETE_SUBREDDIT_REQUEST"});const r=await b.delete(`${F}/subreddits/${a}/${t}`);if(r.status!==200)throw r.data.message;P.push("/"),s({type:"DELETE_SUBREDDIT_SUCCESS",payload:a})}catch(r){s({type:"DELETE_SUBREDDIT_FAILURE",message:r.response.data.message})}},be=({name:t})=>{const a=x(),s=w(),r=m(E=>E.currentSubreddit),n=m(E=>E.auth.user),[o,l]=d.exports.useState(!1),[c,i]=d.exports.useState(""),A=()=>{s(ft(n.id,r.id)),l(!1)};d.exports.useEffect(()=>{l(!1)},[r]);const p=$();return d.exports.useEffect(()=>{i(p)},[a]),e.createElement("section",{className:"current-subreddit-banner"},t?e.createElement("div",{className:"current-subreddit-banner-stack"},e.createElement("h1",null,r?e.createElement(e.Fragment,null,e.createElement("span",{className:"rSpan"},"r/"),C.decode(r.name)):"Home"," "),c&&e.createElement("p",{className:"search-value"},e.createElement("span",null,"Search: "),c),n&&r&&(r==null?void 0:r.user_id)===(n==null?void 0:n.id)&&(o?e.createElement("span",{className:"delete-confirmation-span"},"Are you sure?",e.createElement("button",{onClick:()=>A()},"Yes"),e.createElement("button",{onClick:()=>l(!1)},"No")):e.createElement("button",{className:"delete-btn",onClick:()=>l(!0)},"Delete Subreddit"))):e.createElement("div",{className:"current-subreddit-banner-stack"},e.createElement("h1",null,"Home"),c&&e.createElement("p",{className:"search-value"},e.createElement("span",null,"Search: "),c)))};be.propTypes={name:T.string};const ve=()=>e.createElement("div",{className:"loading"},e.createElement("div",{className:"one"}),e.createElement("div",{className:"two"}),e.createElement("div",{className:"three"}));const Ne=({user:t})=>e.createElement("div",{className:"no-posts-prompt"},e.createElement("h3",null,"It's quiet in here...\u{1F634}"),t?e.createElement("p",null,"Create a new ",e.createElement(g,{to:"/new-post?type=text"},"text")," or"," ",e.createElement(g,{to:"/new-post?type=link"},"link")," post to get a conversation started."):e.createElement("p",null,e.createElement(g,{to:"/login"},"Sign In")," or"," ",e.createElement(g,{to:"/register"},"Register")," to get a new conversation started."));Ne.propTypes={user:T.object};const Rt=()=>{const t=w(),a=$(),s=m(c=>c.auth.user),r=m(c=>c.postList),n=m(c=>c.loading),o=m(c=>c.post);m(c=>c.error);const{name:l}=ue();return d.exports.useEffect(()=>{o&&t(q(null))},[]),d.exports.useEffect(()=>{t(pe(l||null)),t(a?ge(s==null?void 0:s.id,l,a):ht(s?s.id:null,l||null))},[a,l,s]),e.createElement("div",{className:"post-list-main  "},e.createElement(Te,null),e.createElement(be,{name:l,user:s}),n?e.createElement(ve,null):e.createElement(e.Fragment,null,e.createElement("div",{className:"post-list-container"},e.createElement("div",{className:"post-list"},e.createElement(e.Fragment,null,r.length>0?r.map((c,i)=>e.createElement(te,{post:c,key:i})):e.createElement(Ne,{user:s}))))))};var de=Qe(Rt);const Lt=()=>{const t=w(),a=x().search,s=m(S=>S.auth),r=m(S=>S.subreddits),n=m(S=>S.currentSubreddit),[o,l]=d.exports.useState(new URLSearchParams(a).get("type")),[c,i]=d.exports.useState(""),[A,p]=d.exports.useState(""),[E,N]=d.exports.useState(""),[f,L]=d.exports.useState(null),R=S=>{console.log(o);const h={postType:o,title:c,body:o==="text"?A:E,authorId:s.user.id,subredditId:f.id,subredditName:f.name};t(yt(h)),S.preventDefault()};d.exports.useEffect(()=>{l(new URLSearchParams(a).get("type"))},[a]),d.exports.useEffect(()=>{o==="Text"&&N("")},[o]),d.exports.useEffect(()=>{r.length>0&&L(n&&n)},[r,n]);const u=S=>{console.log(S),console.log(r),L(r.filter(h=>C.decode(h.name)===S)[0])};return e.createElement("div",{className:"new-post"},e.createElement(O,{title:`Create a new ${o} post`}),e.createElement("div",{className:"new-post-container"},e.createElement("form",{onSubmit:S=>R(S)},e.createElement("h3",null,"Create a New Post"),e.createElement("div",{className:"both-radio-inputs"},e.createElement("p",null,"Select the type of post you'd like to create"),e.createElement("div",{className:"post-type-buttons"},e.createElement(g,{to:"/new-post?type=text",className:`post-type-button ${o==="text"?"clicked":""}`,value:"text",type:"button"},"Text"),e.createElement(g,{to:"/new-post?type=link",className:`post-type-button  ${o==="link"?"clicked":""}`,value:"link",type:"button"},"Link"))),e.createElement("input",{className:"new-post-input",placeholder:"Title (required)",onChange:S=>i(S.target.value)}),o==="text"?e.createElement(e.Fragment,null,e.createElement("textarea",{className:"new-post-input",placeholder:"Text (optional)",onChange:S=>p(S.target.value)})):e.createElement(e.Fragment,null,e.createElement("input",{type:"url",className:"new-post-input",placeholder:"URL (required)",onChange:S=>N(S.target.value)})),e.createElement("select",{defaultValue:n&&n.name,onChange:S=>u(S.target.value)},e.createElement("option",{disabled:!0,selected:!0,value:!0}," ","Select a subreddit"," "),r.map((S,h)=>e.createElement("option",{key:h},C.decode(S.name)))),e.createElement("button",{disabled:c===""||!f,className:"new-post-submit",type:"submit"},"Submit"))))};const M=I(),Dt=({body:t,author_id:a,post_id:s,parent_comment:r,username:n,profile_picture:o})=>async l=>{try{l({type:"ADD_COMMENT_REQUEST"});let c={body:t,author_id:a,post_id:s,parent_comment:r,username:n,profile_picture:o},i=new Date().toISOString(),A=`${i.substr(0,10)} ${i.substr(11,8)}`;t=C.encode(t);const p=await b.post(`${M}/comments`,c);if(p.status!==200)throw p.data.message;c=v(y({},c),{id:p.data.insertId,threadToggle:!0,created_at:A,updated_at:A,vote_count:0}),l({type:"ADD_COMMENT_SUCCESS",payload:c})}catch(c){l({type:"ADD_COMMENT_FAILURE",message:c.response.data.message})}},Ut=(t,a)=>async s=>{s({type:"TOGGLE_COMMENT_THREAD",payload:{id:t,threadToggle:a}})},Ot=(t,a,s)=>async r=>{try{r({type:"COMMENT_VOTE_REQUEST"});let n={userId:t,commentId:a,value:s};const o=await b.post(`${M}/votes/comment`,{data:n});if(o.status!==200)throw o.data.message;r({type:"COMMENT_VOTE_SUCCESS",payload:n})}catch(n){r({type:"COMMENT_VOTE_FAILURE",message:n.response.data.message})}},Bt=(t,a)=>({type:"EDIT_COMMENT",id:t,updates:a}),xt=({id:t,body:a})=>async s=>{try{s({type:"EDIT_COMMENT_REQUEST"});const r=await b.put(`${M}/comments/${t}`,{body:a});if(r.status!==200)throw r.data.message;a=C.encode(a),s(Bt(t,{body:a})),s({type:"EDIT_COMMENT_SUCCESS"})}catch(r){s({type:"EDIT_COMMENT_FAILURE",message:r.response.data.message})}},It=(t,a)=>async s=>{try{s({type:"GET_COMMENTS_REQUEST"});const r=await b.get(`${M}/comments/${t}${a?`?userId=${a}`:""}`);if(r.status!==200)throw r.data.message;let n=r.data.map(o=>v(y({},o),{threadToggle:!0}));s({type:"GET_COMMENTS_SUCCESS",payload:n})}catch(r){s({type:"GET_COMMENTS_FAILURE",message:r.response.data.message})}},_t=t=>async a=>{try{a({type:"DELETE_COMMENT_REQUEST"});const s=await b.delete(`${M}/comments`,{data:{id:t}});if(s.status!==200)throw s.data.message;a({type:"DELETE_COMMENT_SUCCESS",payload:{id:t}})}catch(s){a({type:"DELETE_COMMENT_FAILURE",message:s.response.data.message})}},Pt=()=>async t=>{t({type:"RESET_COMMENTS"})};const ae=({post:t,parentComment:a,setToggleCommentReply:s,alwaysOpen:r})=>{const n=w(),o=m(A=>A.auth.user),[l,c]=d.exports.useState(""),i=A=>{let p={body:l,author_id:o.id,post_id:t.id,parent_comment:a,username:o.username,profile_picture:o.profile_picture};n(Dt(p)),c(""),A.preventDefault()};return e.createElement("div",{className:"user-comment"},e.createElement("p",null,r?"Comment as ":"Reply as ",e.createElement("span",null,o.username)," "),e.createElement("form",{onSubmit:A=>i(A)},e.createElement("textarea",{value:l,onChange:A=>c(A.target.value),placeholder:r?"What are your thoughts?":"Your thoughts?"}),e.createElement("button",{className:"comment-button",type:"submit",disabled:l.length===0},"Comment"),!r&&e.createElement("button",{className:"cancel-button",onClick:()=>s()},"Cancel")))};ae.propTypes={post:T.object,parentComment:T.number,setToggleCommentReply:T.func,alwaysOpen:T.bool};const Mt=()=>e.createElement("svg",{version:"1.1",id:"Capa_1",viewBox:"0 0 512 512",className:"expand-thread-icon"},e.createElement("g",null,e.createElement("g",null,e.createElement("path",{d:`M486.396,336.393l-43.184,43.184L339.193,275.544c-5.856-5.856-15.349-5.862-21.211,0l-42.437,42.437
			c-5.868,5.868-5.844,15.382,0,21.226l104.034,104.004l-43.184,43.184C326.986,495.803,333.635,512,347,512h150
			c8.291,0,15-6.709,15-15V347C512,333.699,495.874,326.947,486.396,336.393z`}))),e.createElement("g",null,e.createElement("g",null,e.createElement("path",{d:`M236.454,172.808L132.421,68.789l43.184-43.184C185.014,16.197,178.365,0,165,0H15C6.709,0,0,6.709,0,15v150
			c0,13.269,16.088,20.09,25.606,10.606l43.198-43.169l104.004,104.018c5.856,5.856,15.351,5.859,21.209,0.001l42.437-42.437
			C242.286,188.187,242.334,178.688,236.454,172.808z`})))),Qt=()=>e.createElement("svg",{viewBox:"0 0 14 14",focusable:"false",className:"comment-icon"},e.createElement("path",{fill:"currentColor",d:"M0.913134,0.920639 C1.49851,0.331726 2.29348,0 3.12342,0 L10.8766,0 C11.7065,0 12.5015,0.331725 13.0869,0.920639 C13.6721,1.50939 14,2.30689 14,3.13746 L14,8.12943 C13.9962,8.51443 13.9059,8.97125 13.7629,9.32852 C13.6128,9.683 13.3552,10.0709 13.0869,10.3462 C12.813,10.6163 12.4265,10.8761 12.0734,11.0274 C11.7172,11.1716 11.2607,11.263 10.8766,11.2669 L10.1234,11.2669 L10.1234,12.5676 L10.1209,12.5676 C10.1204,12.793 10.0633,13.0791 9.97807,13.262 C9.8627,13.466 9.61158,13.7198 9.40818,13.8382 L9.40824,13.8383 C9.4077,13.8386 9.40716,13.8388 9.40661,13.8391 C9.40621,13.8393 9.4058,13.8396 9.40539,13.8398 L9.40535,13.8397 C9.22958,13.9254 8.94505,13.9951 8.75059,14 L8.74789,14 C8.35724,13.9963 7.98473,13.8383 7.71035,13.5617 L5.39553,11.2669 L3.12342,11.2669 C2.29348,11.2669 1.49851,10.9352 0.913134,10.3462 C0.644826,10.0709 0.387187,9.683 0.23711,9.32852 C0.0941235,8.97125 0.00379528,8.51443 0,8.12943 L0,3.13746 C0,2.30689 0.327915,1.50939 0.913134,0.920639 Z M3.12342,1.59494 C2.71959,1.59494 2.33133,1.75628 2.04431,2.04503 C1.75713,2.33395 1.59494,2.72681 1.59494,3.13746 L1.59494,8.12943 C1.59114,8.35901 1.62114,8.51076 1.71193,8.72129 C1.79563,8.9346 1.88065,9.06264 2.04431,9.22185 C2.33133,9.5106 2.71959,9.67195 3.12342,9.67195 L5.72383,9.67195 C5.93413,9.67195 6.13592,9.75502 6.28527,9.90308 L8.52848,12.1269 L8.52848,10.4694 C8.52848,10.029 8.88552,9.67195 9.32595,9.67195 L10.8766,9.67195 C11.1034,9.67583 11.2517,9.64614 11.4599,9.55518 C11.6712,9.47132 11.7976,9.38635 11.9557,9.22185 C12.1193,9.06264 12.2044,8.9346 12.2881,8.72129 C12.3789,8.51076 12.4089,8.35901 12.4051,8.12943 L12.4051,3.13746 C12.4051,2.72681 12.2429,2.33394 11.9557,2.04503 C11.6687,1.75628 11.2804,1.59494 10.8766,1.59494 L3.12342,1.59494 Z"}));const se=({comment:t})=>{const a=w(),s=m(h=>h.auth.user),r=m(h=>h.post),n=m(h=>h.comments),[o,l]=d.exports.useState(!1),[c,i]=d.exports.useState(!1),[A,p]=d.exports.useState(),[E,N]=d.exports.useState(null);let f=ye(t.created_at);const L=(h,D)=>{a(xt({id:D,body:A})),i(!c),h.preventDefault()},R=h=>{a(Ut(h.id,!h.threadToggle))},u=h=>h.map((D,z)=>D.parent_comment===t.id&&e.createElement("div",{className:"nested-comment"},!D.threadToggle&&e.createElement("button",{onClick:()=>R(D),className:"replies-toggle"},e.createElement(Mt,null),"Expand Thread"),D.threadToggle&&e.createElement("div",{className:`${z} bar-and-comment`},e.createElement("div",{className:"bar-parent"},e.createElement("div",{onClick:()=>R(D),className:"bar"})),e.createElement(se,{key:z,comment:D})))),S=h=>{if(!s){N("You must log in to vote"),setTimeout(()=>N(null),4e3);return}a(Ot(s.id,t.id,h))};return d.exports.useEffect(()=>{p(t.body)},[c]),e.createElement("div",{className:"comment-thread"},e.createElement("div",{className:"comment"},e.createElement("div",{className:"comment-main-section"},E&&e.createElement("p",{className:"vote-error"},E),e.createElement("p",{className:"comment-metadata"},e.createElement(Z,{size:"small",source:t.profile_picture}),e.createElement("span",{className:"user"},t.username),e.createElement("span",{className:"time-ago"},f)),e.createElement("div",{className:"comment-body"},s&&s.id===t.author_id&&c?e.createElement("form",{className:"edit-comment-form",onSubmit:h=>{L(h,t.id)}},e.createElement("textarea",{value:A,onChange:h=>p(h.target.value)}),e.createElement("div",{className:"save-and-cancel"},e.createElement("button",{type:"submit"},"Save"),e.createElement("button",{onClick:()=>i(!c)},"Cancel"))):e.createElement("p",{className:"comment-body-text"},C.decode(t.body))),e.createElement("div",{className:"comment-buttons"},e.createElement(ee,{item:t,handleVoteClick:S}),s&&e.createElement("button",{className:"comment-button",onClick:()=>l(!o)},e.createElement(Qt,null)," Reply"),s&&s.id===t.author_id&&e.createElement(e.Fragment,null,!c&&e.createElement("button",{className:"comment-button",onClick:()=>i(!c)},e.createElement(he,null)," Edit"),e.createElement("button",{className:"comment-button",onClick:()=>a(_t(t.id))},e.createElement(Ce,null)," Delete"))),o&&e.createElement(ae,{post:r,parentComment:t.id,setToggleCommentReply:l,alwaysOpen:!1}))),u(n))};se.propTypes={comment:T.object};const Gt=()=>{const t=m(s=>s.comments),a=m(s=>s.auth.user);return e.createElement(U.div,{className:"comments-list",initial:{opacity:0},animate:{opacity:1}},t?t.map((s,r)=>!s.parent_comment&&e.createElement(se,{key:r,comment:s})):!a&&e.createElement("p",{className:"no-comments-prompt"}," ","It's quiet here,\xA0",e.createElement(g,{to:"/login"},"login")," or"," ",e.createElement(g,{to:"/register"},"register")," to leave a comment..."))};const we=({actionText:t})=>e.createElement("div",{className:"log-in-prompt"},e.createElement("p",null,"Log in or register to ",t),e.createElement("div",{className:"log-in-prompt__buttons"},e.createElement(g,{to:"/login"},"Login"),e.createElement(g,{to:"/register"},"Register")));we.propTypes={actionText:T.string};var kt="data:image/png;base64,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",Ft="data:image/png;base64,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";const zt=()=>{const t=w(),{postId:a}=ue(),{width:s}=K(),r=m(E=>E.post),n=m(E=>E.theme),o=m(E=>E.comments),l=m(E=>E.loading),c=m(E=>E.currentSubreddit),i=m(E=>E.auth.user),[A,p]=d.exports.useState(!1);return d.exports.useEffect(()=>{t(Et(a,i?i.id:null)),t(Pt()),t(It(a,i?i.id:null))},[t,a]),d.exports.useEffect(()=>{console.log("theme"),s<=767?p(!0):p(!1)},[s,n]),e.createElement(U.div,{className:"single-post-page  ",initial:{opacity:0},animate:{opacity:1}},A&&e.createElement("div",{className:"back-button-and-subreddit-select"},e.createElement(g,{to:c?`/r/${c.name}`:"/",className:"back-button"},e.createElement("img",{className:"back-icon",src:n?Ft:kt})),e.createElement(Te,null)),l?e.createElement(ve,null):r&&e.createElement("div",{className:"single-post-page-container"},e.createElement(te,{post:r,single:!0}),i?r&&e.createElement(ae,{parentComment:null,post:r,alwaysOpen:!0}):e.createElement(we,{actionText:"comment"}),o.length>0&&e.createElement(Gt,null)))};const Vt=()=>{const[t,a]=d.exports.useState(""),[s,r]=d.exports.useState(""),n=w(),o=m(c=>c.auth.user),l=c=>{t!==""&&n(wt(o.id,t,s)),c.preventDefault()};return e.createElement("div",{className:"create-subreddit"},e.createElement(O,{title:"Create a new subreddit"}),e.createElement("form",{onSubmit:c=>l(c)},e.createElement("h3",null,"Create a New Subreddit"),e.createElement("input",{onChange:c=>a(c.target.value),placeholder:"Subreddit name"}),e.createElement("textarea",{onChange:c=>r(c.target.value),placeholder:"Description (optional)"}),e.createElement("button",{disabled:t==="",className:t===""?"disabled":"",type:"submit"},"Submit")))};const j=({subreddit:t})=>{const a=_();return e.createElement(g,{className:`subreddit-link ${a.location.pathname.replace("/r/","")===t.name?"current":""}`,to:`/r/${C.decode(t.name)}`},"r/",C.decode(t.name))};j.propTypes={subreddit:T.object};const jt=()=>{const t=_(),a=w(),s=m(n=>n.subreddits),r=m(n=>n.auth.user);return d.exports.useEffect(()=>{a(vt())},[a]),e.createElement("aside",{className:"sidebar  "},!r&&e.createElement("p",{className:"no-user-error"}," ",e.createElement(g,{to:"/login"},"Sign in")," or ",e.createElement(g,{to:"/register"},"register")," to create new content"),r&&e.createElement("div",{className:"sidebar-buttons"},e.createElement("div",{className:"post-and-link-buttons"},e.createElement(g,{to:`${r?"/new-post?type=text":"#"}`,className:`new-post-sidebar ${r?"":"disabled"}`},"New Post"),e.createElement(g,{to:`${r?"/new-post?type=link":"#"}`,className:`new-link-sidebar ${r?"":"disabled"}`},"New Link")),e.createElement(g,{to:`${r?"/subreddits/create":"#"}`,className:`create-subreddit ${r?"":"disabled"}`},"Create Subreddit")),s.length>0&&e.createElement("div",{className:"subreddit-lists"},e.createElement("div",{className:"subreddit-list"},e.createElement("h3",{className:"subreddit-list-label-main"},"Subreddits"),e.createElement(g,{className:`subreddit-link ${t.location.pathname==="/"?"current":""}`,to:"/"},"Home")),e.createElement("div",{className:"subreddit-list"},e.createElement("h3",{className:"subreddit-list-label"},"General"),s.filter(n=>n.user_id===1).map((n,o)=>e.createElement(j,{subreddit:n,key:o}))),e.createElement("div",{className:"subreddit-list"},e.createElement("h3",{className:"subreddit-list-label"},"User Created"),s.filter(n=>n.user_id!==1).map((n,o)=>e.createElement(j,{subreddit:n,key:o})))))};var Ht="data:image/png;base64,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";const Jt=(t=[],a)=>{switch(a.type){case"REMOVE_ERROR":return t.filter(s=>s.itemIndex!==a.payload);default:{const{type:s,message:r}=a,n=/(.*)_(REQUEST|FAILURE)/.exec(s);if(!n)return t;const[,o,l]=n;return l==="FAILURE"&&t.push({itemIndex:t.length,requestName:o,message:r}),[...t]}}},Wt=t=>a=>{setTimeout(()=>a({type:"REMOVE_ERROR",payload:t}),4e3)};const fe=({error:t})=>{const a=w(),[s,r]=d.exports.useState(!0),n=()=>{setTimeout(()=>{r(!1)},5001)};return d.exports.useEffect(()=>{n()},[t]),d.exports.useEffect(()=>{s||a(Wt(t.itemIndex))},[s]),e.createElement(U.div,{className:"error-popup-item",animate:{opacity:s?1:0,x:s?0:"-100%"},transition:{ease:"easeOut",duration:.5},initial:{x:"-100%"}},e.createElement("img",{src:Ht,alt:"warning icon"}),e.createElement("p",{className:"error-message"},t.message))};fe.propTypes={error:T.object};const Yt=()=>{const t=m(a=>a.error);return e.createElement(Ge,null,e.createElement("div",{className:"error-popup-list"},t.map((a,s)=>e.createElement(fe,{key:s,error:a}))))};function Zt(){const t=$(),a=m(o=>o.currentSubreddit),s=m(o=>o.theme),r=x(),n=["/login","/register"];return d.exports.useEffect(()=>{document.body.dataset.theme=s?"dark":"light"},[s]),e.createElement("div",{className:"App"},e.createElement(O,{title:a?`r/${a.name}`:"Home"}),e.createElement(qe,null,e.createElement(mt,null),e.createElement("main",null,e.createElement(ke,null,e.createElement(B,{path:"/register"},e.createElement(tt,null)),e.createElement(B,{path:"/login"},e.createElement(at,null)),e.createElement(H,{path:"/subreddits/create"},t?e.createElement(V,{to:a?`/r/${a.name}?q=${t}`:`/q=${t}`}):e.createElement(Vt,null)),e.createElement(H,{path:"/new-post"},t?e.createElement(V,{to:a?`/r/${a.name}?q=${t}`:`/q=${t}`}):e.createElement(Lt,null)),e.createElement(B,{path:"/r/:name/:postId"},e.createElement(zt,null)),e.createElement(B,{path:"/r/:name"},e.createElement(de,null)),e.createElement(B,{path:"/"},e.createElement(de,null))),n.indexOf(r.pathname)<0&&e.createElement(jt,null)),e.createElement(Yt,null),e.createElement(ut,null)))}function H(s){var r=s,{children:t}=r,a=ce(r,["children"]);console.log(a);let n=m(o=>o.auth.user);return e.createElement(B,v(y({},a),{render:({location:o})=>n?t:e.createElement(V,{to:{pathname:"/login",state:{from:o}}})}))}H.propTypes={children:T.object};const Kt=Y("authState")||{},qt=(t=Kt,a)=>{switch(a.type){case"REGISTER_REQUEST":return t;case"REGISTER_SUCCESS":return t;case"LOGIN_REQUEST":return t;case"LOGIN_SUCCESS":return v(y({},t),{user:a.payload});case"LOGOUT":return v(y({},t),{user:null});default:return t}},Xt=(t=[],a)=>{switch(a.type){case"CREATE_SUBREDDIT_SUCCESS":return[...t,a.payload];case"GET_SUBREDDITS_SUCCESS":return a.payload;case"DELETE_SUBREDDIT_SUCCESS":return t.filter(s=>s.id!==a.payload);default:return t}},$t=(t=null,a)=>{switch(a.type){case"SET_CURRENT_SUBREDDIT_SUCCESS":return a.payload;default:return t}},ea=(t=[],a)=>{switch(a.type){case"GET_POSTS_SUCCESS":return a.payload;case"CREATE_POST_SUCCESS":return[...t,a.payload];case"GET_SUBREDDIT_POSTS_SUCCESS":return a.payload;case"DELETE_POST_SUCCESS":{const{id:s}=a.payload;return t.map(r=>r.id===s?v(y({},r),{title:"[DELETED]",body:"[DELETED]",username:"[DELETED]"}):r)}case"EDIT_POST":{const{id:s,updates:r}=a;if(t)return t.map(n=>n.id===s?v(y({},n),{body:r.body}):n);break}case"POST_VOTE_SUCCESS":{const{postId:s,value:r}=a.payload,n=o=>{switch(console.log(o),r){case 1:return o.has_voted===1?o.vote_count-1:o.has_voted===-1?o.vote_count+2:o.vote_count+1;case-1:return o.has_voted===-1?o.vote_count+1:o.has_voted===1?o.vote_count-2:o.vote_count-1;default:return o.vote_count}};return t.map(o=>o.id===s?v(y({},o),{vote_count:n(o),has_voted:o.has_voted===r?null:r,vote_value:o.has_voted}):o)}default:return t}},ta=(t=null,a)=>{switch(a.type){case"GET_POST_SUCCESS":return a.payload;case"SET_POST_SUCCESS":return a.payload;case"EDIT_POST":{const{updates:s}=a;return v(y({},t),{body:s.body})}case"SINGLEPOST_VOTE_SUCCESS":{const{value:s}=a.payload,r=n=>{switch(console.log(n),console.log(t),s){case 1:return n.has_voted===1?n.vote_count-1:n.has_voted===-1?n.vote_count+2:n.vote_count+1;case-1:return n.has_voted===-1?n.vote_count+1:n.has_voted===1?n.vote_count-2:n.vote_count-1;default:return n.vote_count}};return v(y({},t),{vote_count:r(t),has_voted:t.has_voted===s?null:s,vote_value:t.has_voted})}case"DELETE_POST_SUCCESS":return v(y({},t),{title:"[DELETED]",body:"[DELETED]",username:"[DELETED]",status:"[DELETED]"});default:return t}},aa=(t=!1,a)=>{switch(a.type){case"GET_POSTS_REQUEST":return t=!0;case"GET_POSTS_SUCCESS":return t=!1;case"GET_COMMENTS_REQUEST":return t=!0;case"GET_COMMENTS_SUCCESS":return t=!1;case"GET_POST_REQUEST":return t=!0;case"LOGIN_REQUEST":return t=!0;case"GET_POST_SUCCESS":return t=!1;default:return t}},sa=(t=[],a)=>{switch(a.type){case"GET_COMMENTS_SUCCESS":return a.payload;case"ADD_COMMENT_SUCCESS":return[a.payload,...t];case"RESET_COMMENTS":return t=[];case"EDIT_COMMENT":{const{id:s,updates:r}=a;return t.map(n=>n.id===s?y(y({},n),r):n)}case"DELETE_COMMENT_SUCCESS":{const{id:s}=a.payload;return console.log(s),console.log(t.filter(r=>r.id!==s)),t.filter(r=>r.id!==s)}case"TOGGLE_COMMENT_THREAD":{const{id:s,threadToggle:r}=a.payload;return console.log(s,r),console.log(t.map(n=>n.id===s?v(y({},n),{threadToggle:r}):n)),t.map(n=>n.id===s?v(y({},n),{threadToggle:r}):n)}case"COMMENT_VOTE_SUCCESS":{const{commentId:s,value:r}=a.payload,n=o=>{switch(r){case 1:return o.has_voted===1?o.vote_count-1:o.has_voted===-1?o.vote_count+2:o.vote_count+1;case-1:return o.has_voted===-1?o.vote_count+1:o.has_voted===1?o.vote_count-2:o.vote_count-1;default:return o.vote_count}};return t.map(o=>o.id===s?v(y({},o),{vote_count:n(o),has_voted:o.has_voted===r?null:r,vote_value:o.has_voted}):o)}default:return t}},ra=[Fe(He),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0})||Ee],na=Y(),oa=ze({auth:qt,subreddits:Xt,currentSubreddit:$t,postList:ea,post:ta,error:Jt,loading:aa,theme:st,comments:sa}),G=Ve(oa,na,Ee(...ra));G.subscribe(je(()=>{le(G.getState().auth,"authState"),le(G.getState().theme,"themeState")},1e3));Je.render(e.createElement(e.StrictMode,null,e.createElement(We,{store:G},e.createElement(Ye,{history:P},e.createElement(Ze,null,e.createElement(Zt,null))))),document.getElementById("root"));
